---
ansible_playbook_version: 0.1
zookeeper_playbook_version: "0.17.0"
zookeeper_version: 3.4.6
zookeeper_url: http://www.us.apache.org/dist/zookeeper/zookeeper-{{zookeeper_version}}/zookeeper-{{zookeeper_version}}.tar.gz

# Flag that selects if systemd or upstart will be used for the init service:
# Note: by default Ubuntu 15.04 and later use systemd (but support switch to upstart)
zookeeper_debian_systemd_enabled: "{{ ansible_distribution_version|version_compare(15.04, '>=') }}"
zookeeper_debian_apt_install: false
zookeeper_debian_apt_repositories: []
apt_cache_timeout: 3600
zookeeper_register_path_env: false

zookeeper_dir: "{{ zookeeper_debian_apt_install | ternary('/usr/share/zookeeper', '/opt/zookeeper-' + zookeeper_version) }}"
zookeeper_conf_dir: "{{ zookeeper_debian_apt_install | ternary('/etc/zookeeper', zookeeper_dir) }}"
zookeeper_tarball_dir: /opt/src

# Dict of ENV settings to be written into the (optional) conf/zookeeper-env.sh
zookeeper_env: {}

# Controls Zookeeper myid generation
zookeeper_force_myid: yes

# Zookeeper Minimum Configuration
client_port: 2181
# secure_client_port
data_dir: /var/lib/zookeeper
tick_time: 2000

# Zookeeper Advanced Configuration
log_dir: /var/log/zookeeper
globalOutstandingLimit: 1000
preAllocSize: 64M
snapCount: 10000
maxClientCnxns: 60
# clientPortAddress
# minSessionTimeout # default is 2 * tick_time
# maxSessionTimeout # default is 20 * tick_time
fsync_warningthresholdms: 1000
zookeeper_autopurge_snapRetainCount: 10
zookeeper_autopurge_purgeInterval: 0
syncEnabled: yes

# Zookeeper Cluster Configuration
init_limit: 5
leaderServes: yes
# List of dict (i.e. {zookeeper_hosts:[{host:,id:},{host:,id:},...]})
zookeeper_hosts:
  - host: "{{inventory_hostname}}" # the machine running
    id: 1
sync_limit: 2
cnxTimeout: 5
standaloneEnabled: yes

# Zookeeper Encryption, Authentication, Authorization Options
DigestAuthenticationProvider_superDigest: no
# X509AuthenticationProvider_superUser: # X500 principal name
# ssl:
#   keyStore:
#     location: # path to a JKS containing the local credentials
#     password: # password
#   trustStore:
#     location: # path to a JKS containing the remote credentials
#     password: # password

# Log Configuration
zookeeper_root_logger: INFO, CONSOLE, ROLLINGFILE
zookeeper_console_threshold: INFO
zookeeper_log_threshold: INFO
zookeeper_log_maxfilesize: 10MB
zookeeper_log_maxbackupindex: 10
zookeeper_syslog_app: zk
zookeeper_syslog_threshold: WARN
zookeeper_syslog_host: localhost
zookeeper_syslog_facility: USER
log4j_syslog_pattern: "[%p] %c:%L - %m%n"
log4j_pattern: "%d{ISO8601} [myid:%X{myid}] - %-5p [%t:%C{1}@%L] - %m%n"
log4j_trace_pattern: "%d{ISO8601} [myid:%X{myid}] - %-5p [%t:%C{1}@%L][%x] - %m%n"

